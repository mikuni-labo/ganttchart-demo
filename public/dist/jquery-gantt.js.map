{"version":3,"file":"jquery-gantt.js","sources":["../src/Defaults.js","../src/func/lazyload.js","../src/Gantt.js","../src/Plugin.js"],"sourcesContent":["export default {\n  // user defined data array of event [source]\n  data: [],\n  // data URL\n  dataURL: '',\n  // start date calendar\n  startDate: new Date(),\n  // end date calendar\n  endDate: new Date(),\n  // cell width px\n  cellWidth: 20,\n  // cell height px\n  cellHeight: 38,\n  // language\n  language: 'en',\n  // sticky header\n  stickyHeader: false,\n  // mouse scroll\n  mouseScroll: false,\n  // mouse scroll px\n  mouseScrollpx: 120,\n  // lazy load\n  lazyLoad: false,\n  // auto hide\n  autoHide: false,\n  // onInit event\n  onInit: $.noop,\n  // onDestroy event\n  onDestroy: $.noop,\n};\n","import $ from 'jquery';\n\nexport default {\n  buildData() {\n    const url = this.config.dataURL;\n    return $.ajax({\n      url,\n      dataType: 'jsonp',\n      jsonp: 'callback',\n      crossDomain: true,\n      contentType: 'application/json',\n    });\n  },\n\n  initLazyLoad() {\n    const startDate = this.config.startDate;\n    const endDate = this.config.endDate;\n    startDate.setHours(0, 0, 0, 0);\n    endDate.setHours(0, 0, 0, 0);\n    this.scrollHandler();\n  },\n\n  renderLazyLoad(data, startDate, endDate) {\n    this.renderLazyLoadGrid(data, startDate, endDate);\n    const el = $(this.element);\n    const templateHeaderMonths = $('.gantt-header-months', el);\n    const templateHeaderDays = $('.gantt-header-days', el);\n    const templateHeaderDaysMin = $('.gantt-header-days-min', el);\n\n    // difference between start-date and end-date\n    const num = this.dateDiffInDays(startDate, endDate);\n    this.renderLazyLoadEvents(data, num);\n\n    for (let i = 0; i <= num; i += 1) {\n      const templateHeaderMonth = $('<div>', { class: 'gantt-header-month' });\n      const templateHeaderDay = $('<div>', { class: 'gantt-header-day' });\n      const templateHeaderDayMin = $('<div>', { class: 'gantt-header-day-min' });\n\n      // const weekOfday = startDate.getDay();\n      const day = startDate.getDate();\n      const month = startDate.getMonth() + 1;\n      const year = startDate.getFullYear();\n      let monthWidth = this.daysInMonth(month, year) * this.config.cellWidth;\n      // const weekOfdayName = this.config.region.dayNamesMin[weekOfday];\n      const monthName = this.config.region.monthNames[month - 1];\n\n      const dayTemplate = $(templateHeaderDay).text(day).css('width', this.config.cellWidth);\n      // const dayMinTemplate = $(templateHeaderDayMin).text(weekOfdayName)\n      //  .css({ width: this.config.cellWidth });\n      const monthTemplate = $(templateHeaderMonth).text(`${monthName} ${year}`).css({ width: monthWidth });\n\n      templateHeaderDays.append(dayTemplate);\n      templateHeaderDaysMin.append(templateHeaderDayMin);\n\n      const firstMonthIsNotFull = i === 0;\n\n      const firstDay = this.firstDayMonth(year, month);\n      firstDay.setHours(0, 0, 0, 0);\n      const firstDayEndDateMonth = this.firstDayMonth(\n        this.config.endDate.getFullYear(),\n        this.config.endDate.getMonth() + 1);\n      firstDayEndDateMonth.setHours(0, 0, 0, 0);\n\n      const checkFirstDayMonth = this.isEqual(startDate, firstDay);\n      const checkFirstDayMonthEndDate = this.isEqual(startDate, firstDayEndDateMonth);\n\n      if (checkFirstDayMonth || firstMonthIsNotFull) {\n        if (firstMonthIsNotFull) {\n          monthWidth -= ((day - 1) * this.config.cellWidth);\n        }\n\n        if (checkFirstDayMonthEndDate) {\n          monthWidth = (this.config.endDate.getDate() * this.config.cellWidth);\n        }\n\n        // var monthName = this.config.region.monthNames[month - 1];\n        // var monthTemplate = $(templateHeaderMonth).text(`${monthName} ${year}`)\n        //  .css({ width: monthWidth });\n\n        templateHeaderMonths.append(monthTemplate);\n      }\n\n      startDate.setDate(startDate.getDate() + 1);\n    }\n\n    const totalWidth = $('.gantt-header-day', el).length * this.config.cellWidth;\n    $(templateHeaderMonths, el).css({ width: totalWidth });\n    $(templateHeaderDays, el).css({ width: totalWidth });\n    $(templateHeaderDaysMin, el).css({ width: totalWidth });\n\n    const templateGrid = $('.gantt-grid', el);\n    $(templateGrid, el).css({ width: totalWidth });\n\n    const templateGridRow = $('.gantt-grid-row', el);\n    $(templateGridRow, el).css({ width: this.gridDefaults.gridtotalWidth });\n\n    const templateGridCol = $('.gantt-grid-col', el);\n    $(templateGridCol, el).css({ height: this.gridDefaults.gridtotalHeight });\n\n    $('.gantt-event-row', el).css({ width: this.gridDefaults.gridtotalWidth });\n\n    this.gridDefaults.eventsWidth = this.gridDefaults.gridtotalWidth;\n  },\n\n  renderLazyLoadGrid(data, startDate, endDate) {\n    const el = $(this.element);\n    // difference between start-date and end-date\n    const num = this.dateDiffInDays(startDate, endDate);\n    const totalWidth = this.getTotalWidth(num);\n    const totalHeight = this.getTotalHeight(data.length);\n    const templateGrid = $('.gantt-grid', el);\n    const templateGridCols = $('.gantt-grid-cols', el);\n    const templateGridRows = $('.gantt-grid-rows', el);\n\n    const sDate = new Date(startDate.getTime());\n    for (let i = 0; i <= num; i += 1) {\n      const templateGridCol = $('<div>', { class: 'gantt-grid-col', width: this.config.cellWidth, height: totalHeight });\n\n      // firefox width problem fix\n      templateGridCol.css('width', this.config.cellWidth);\n\n      const month = sDate.getMonth() + 1;\n      const year = sDate.getFullYear();\n\n      const lastDay = this.lastDayMonth(year, month);\n\n      if (this.isEqual(sDate, lastDay)) {\n        templateGridCol.css('border-color', '#bec5cc');\n      }\n\n      templateGridCols.append(templateGridCol);\n      // eslint-disable-line no-redeclare\n      sDate.setDate(sDate.getDate() + 1);\n    }\n\n    data.forEach(function () {\n      const templateGridRow = $('<div>', { class: 'gantt-grid-row', width: totalWidth, height: this.config.cellHeight });\n      templateGridRows.append(templateGridRow);\n    }, this);\n\n    templateGrid.append(templateGridCols).append(templateGridRows);\n\n    this.gridDefaults.gridtotalWidth += totalWidth;\n    this.gridDefaults.gridtotalHeight += totalHeight;\n  },\n\n  renderLazyLoadContainer() {\n    const template = $('<div>', { class: 'gantt-container' });\n    const templateWrapper = $('<div>', { class: 'gantt-wrapper' });\n\n    const templateHeader = $('<div>', { class: 'gantt-header' });\n    const templateHeaderMonths = $('<div>', { class: 'gantt-header-months' });\n    const templateHeaderDays = $('<div>', { class: 'gantt-header-days' });\n    const templateHeaderDaysMin = $('<div>', { class: 'gantt-header-days-min' });\n\n    const arrowLeft = '<div class=\"arrow arrow-left\"><span class=\"arrow-icon\"></span></div>';\n    const arrowRight = '<div class=\"arrow arrow-right\"><span class=\"arrow-icon\"></span></div>';\n\n    const templateGrid = $('<div>', { class: 'gantt-grid' });\n    const templateEvents = $('<div>', { class: 'gantt-events' });\n\n    const templateLoading = $('<div>', { class: 'gantt-loading', style: 'display: none' });\n\n    templateHeader.append($(templateHeaderMonths));\n    templateHeader.append($(templateHeaderDays));\n    templateHeader.append($(templateHeaderDaysMin));\n\n    const templateGridCols = $('<div>', { class: 'gantt-grid-cols' });\n    const templateGridRows = $('<div>', { class: 'gantt-grid-rows' });\n\n    templateGrid.append(templateGridCols).append(templateGridRows);\n\n    template.append(templateHeader).append(templateGrid).append(templateEvents);\n    templateWrapper.append(arrowLeft).append(template).append(arrowRight).append(templateLoading);\n    return templateWrapper;\n  },\n\n  renderLazyLoadEvents(data) {\n    const el = $(this.element);\n    const templateEvents = $('.gantt-events', el);\n\n    data.forEach(function (element) {\n      const itemStartDate = new Date(element.startdate);\n\n      const templateEventRow = $('<div>', { class: 'gantt-event-row', width: this.totalWidth });\n      const templateEvent = $('<div>', { class: 'gantt-event' });\n\n      const tourWidth = (parseInt(element.minNight, 10) + 1) * this.config.cellWidth;\n      const remDay = this.dateDiffInDays(this.config.startDate, itemStartDate);\n\n      const tooltipData = $.extend(element.tooltipData, { price: element.price });\n\n      let tourType = '';\n      if (element.type === 'Tur') {\n        tourType = 'tourFly';\n      } else if (element.type === 'TurBus') {\n        tourType = 'tourBus';\n      } else {\n        tourType = 'cruise';\n      }\n\n      const title = `${element.minNight} Gece`;\n\n      const eventBlock = $('<a>', {\n        class: this.format('gantt-event-block {0}', tourType),\n        width: `${tourWidth}px`,\n        href: `/${element.url}`,\n        target: '_blank',\n      }).text(title).css('line-height', `${this.config.cellHeight - 28}px`).data('tooltip', this.tooltipView(tooltipData));\n\n      const eventIcon = $(`<div class=\"gantt-event-icon\"><div class=\"${tourType}\"></div></div>`);\n\n      const eventPrice = $('<div>', {\n        class: 'gantt-event-price',\n      }).text(`${element.price.original.price} ${element.price.original.priceType}`);\n\n      const eventDesc = $('<div>', {\n        class: 'gantt-event-desc',\n      }).text(element.title);\n\n      const left = (remDay * this.config.cellWidth) + this.gridDefaults.eventsWidth;\n\n      templateEventRow.append(templateEvent.css('left', left)\n        .append(eventBlock)\n        .append(eventIcon)\n        .append(eventPrice)\n        .append(eventDesc))\n        .css('height', this.config.cellHeight);\n\n      templateEvents.append(templateEventRow);\n    }, this);\n\n    return templateEvents;\n  },\n};\n","import $ from 'jquery';\nimport DEFAULTS from './Defaults';\nimport lazyload from './func/lazyload';\n\nclass Gantt {\n  constructor(element, options) {\n    const gridDefaults = {\n      gridtotalHeight: 0,\n      gridtotalWidth: 0,\n      eventsWidth: 0,\n    };\n    const lang = options.language || DEFAULTS.language;\n    // eslint-disable-next-line no-param-reassign\n    options.lang = Gantt.LANGUAGES[lang];\n    // extend defaults with the init options.\n    this.config = $.extend({}, DEFAULTS, options);\n    // grid defaults\n    this.gridDefaults = $.extend({}, gridDefaults);\n    // store main DOM element.\n    this.element = element;\n    // no data source\n    if (this.config.dataURL === '' && this.config.data.length <= 0) console.warn('jquery-gantt: must provide a data source');\n    // dataURL is required\n    else if (this.config.dataURL === '' && this.config.lazyLoad) console.warn('jquery-gantt: dataURL is required for lazyLoad');\n    // initialize\n    else {\n      this.init();\n    }\n  }\n\n  init() {\n    this.hook('onInit');\n    let html = '';\n    // erasing all the content from the container\n    $(this.element).html(html);\n\n    if (this.config.endDate.getTime() > this.config.startDate.getTime()) {\n      // lazy load\n      if (this.config.lazyLoad) {\n        this.initLazyLoad();\n        html = this.renderLazyLoadContainer();\n      } else if (this.config.data.length <= 0 && this.config.dataURL !== '') {\n        this.buildData().then((data) => {\n          this.config.data = data.Items;\n          html = this.renderContainer();\n          $(this.element).html(html);\n          this.attachEvents(this.element, this.config);\n          this.tooltipHover();\n          this.colHighlighter();\n        });\n      } else {\n        html = this.renderContainer();\n      }\n\n      if (this.config.data.length > 0 || this.config.lazyLoad) {\n        $(this.element).html(html);\n        this.attachEvents(this.element, this.config);\n        this.tooltipHover();\n        this.colHighlighter();\n      }\n    } else {\n      console.warn('jquery-gantt: start-date is not greater than end-date');\n    }\n  }\n\n  hook(hookName) {\n    if (this.config[hookName] !== undefined) {\n      this.config[hookName].call(this.el);\n    }\n  }\n\n  attachEvents(el, options) {\n    // sticky header\n    if (options.stickyHeader) {\n      const stickyH = function () {\n        const top = $('.gantt-wrapper', el).offset().top;\n        const height = $('.gantt-wrapper', el).height();\n        if (top >= $(this).scrollTop() || $(this).scrollTop() >= ((top + height) - 80)) {\n          $('.gantt-header', el).css('position', 'static');\n          $('.arrow', el).css('position', 'static');\n        } else {\n          $('.arrow', el).css({\n            position: 'relative',\n            top: `${$(this).scrollTop() - top}px`,\n          });\n          $('.gantt-header', el).css({\n            position: 'relative',\n            top: `${$(this).scrollTop() - top}px`,\n            left: `${$(this).scrollLeft}px`,\n            'z-index': 1,\n          });\n        }\n      };\n      $(window).scroll(stickyH);\n    }\n    // scroll page horizontally with mouse wheel\n    if (options.mouseScroll) {\n      $('.gantt-container', el).on('wheel mousewheel', function (e) {\n        if (e.originalEvent.wheelDelta > 0 || e.originalEvent.detail < 0) {\n          this.scrollLeft -= options.mouseScrollpx;\n        } else {\n          this.scrollLeft += options.mouseScrollpx;\n        }\n      });\n    }\n    if (options.lazyLoad) {\n      const self = this;\n      let loading = false;\n      $('.gantt-container', el).scroll(function () {\n        if (this.scrollWidth - this.clientWidth - this.scrollLeft < 900 && !loading) {\n          loading = true;\n          self.scrollHandler(() => {\n            loading = false;\n          });\n        }\n      });\n    }\n    // scroll drag\n    $('.gantt-container', el)\n      .on('mousedown', function (event) {\n        $(this).data('down', true)\n          .data('x', event.clientX)\n          .data('scrollLeft', this.scrollLeft)\n          .addClass('dragging');\n        return false;\n      })\n      .on('mouseup', function () {\n        $(this).data('down', false).removeClass('dragging');\n      })\n      .on('mousemove', function (event) {\n        if ($(this).data('down') === true) {\n          this.scrollLeft = ($(this).data('scrollLeft') + $(this).data('x')) - event.clientX;\n        }\n\n        if (options.autoHide) {\n          const sl = this.scrollLeft;\n          let daywidth = sl / options.cellWidth;\n          daywidth = Math.floor(daywidth);\n\n          const cWidth = daywidth * options.cellWidth;\n\n          const events = $('.gantt-events', el).find('.gantt-event');\n          $.each(events, (index, elem) => {\n            let eventLeft = $(elem).css('left');\n            eventLeft = parseInt(eventLeft, 10);\n            if (eventLeft <= cWidth) {\n              $(elem).closest('.gantt-event-row').hide();\n            } else {\n              $(elem).closest('.gantt-event-row').show();\n            }\n          });\n\n          const currentDay = new Date(options.startDate.getTime());\n          currentDay.setDate(currentDay.getDate() + daywidth);\n        }\n      })\n      .on('mouseleave', function () {\n        $(this).data('down', false).removeClass('dragging');\n      });\n\n    // arrow button click\n    $('.arrow', el).on('click', function () {\n      const direction = $(this).hasClass('arrow-right');\n      const scrollLeft = $('.gantt-container', el).scrollLeft();\n      if (direction) {\n        $('.gantt-container', el).scrollLeft(scrollLeft + 240);\n      } else {\n        $('.gantt-container', el).scrollLeft(scrollLeft - 240);\n      }\n    });\n  }\n\n  xhrRequest(startDate, endDate) {\n    const self = this;\n    const el = $(this.element);\n    const url = this.config.dataURL;\n    return $.ajax({\n      url,\n      dataType: 'jsonp',\n      jsonp: 'callback',\n      contentType: 'application/json',\n      crossDomain: true,\n      data: {\n        startDate: self.getFormattedDate(startDate),\n        endDate: self.getFormattedDate(endDate),\n      },\n      beforeSend() {\n        $('.gantt-loading', el).fadeIn();\n      },\n    });\n  }\n\n  scrollHandler(callback) {\n    const self = this;\n    const el = $(this.element);\n\n    const startDate = this.config.startDate;\n    let nextDate = new Date(this.config.startDate.getTime());\n\n    nextDate.setMonth(nextDate.getMonth() + 2);\n\n    const month = nextDate.getMonth() + 1;\n    const year = nextDate.getFullYear();\n    nextDate = this.lastDayMonth(year, month);\n\n    const monthEndDate = this.config.endDate.getMonth() + 1;\n    const yearEndDate = this.config.endDate.getFullYear();\n    const dayEndDate = this.config.endDate.getDate();\n\n    if (year === yearEndDate || year > yearEndDate) {\n      if (year > yearEndDate) {\n        nextDate.setMonth(monthEndDate - 1);\n        nextDate.setYear(yearEndDate);\n        nextDate.setDate(dayEndDate);\n      }\n      if (month === monthEndDate || month > monthEndDate) {\n        nextDate.setMonth(monthEndDate - 1);\n        nextDate.setDate(dayEndDate);\n      }\n    }\n\n    if (startDate.getTime() <= this.config.endDate.getTime()) {\n      this.xhrRequest(startDate, nextDate).done((data) => {\n        self.renderLazyLoad(data.Items, startDate, nextDate);\n        self.tooltipHover();\n        self.colHighlighter();\n        if (typeof callback === 'function') {\n          callback();\n        }\n      }).always(() => {\n        $('.gantt-loading', el).fadeOut();\n      });\n    }\n  }\n\n  renderHeader(num) {\n    const templateHeader = $('<div>', { class: 'gantt-header' });\n    const templateHeaderMonths = $('<div>', { class: 'gantt-header-months' });\n    const templateHeaderDays = $('<div>', { class: 'gantt-header-days' });\n    const templateHeaderDaysMin = $('<div>', { class: 'gantt-header-days-min' });\n\n    const totalWidth = this.getTotalWidth(num);\n\n    this.setHours();\n    const startDate = new Date(this.config.startDate.getTime());\n\n    for (let i = 0; i <= num; i += 1) {\n      const templateHeaderMonth = $('<div>', { class: 'gantt-header-month' });\n      const templateHeaderDay = $('<div>', { class: 'gantt-header-day' });\n      const templateHeaderDayMin = $('<div>', { class: 'gantt-header-day-min' });\n\n      const weekOfday = startDate.getDay();\n      const day = startDate.getDate();\n      const month = startDate.getMonth() + 1;\n      const year = startDate.getFullYear();\n      let monthWidth = this.daysInMonth(month, year) * this.config.cellWidth;\n\n      const dayTemplate = $(templateHeaderDay).text(day).css('width', this.config.cellWidth);\n      $(templateHeaderDays).append(dayTemplate);\n\n      const weekOfdayName = this.config.lang.dayNamesMin[weekOfday];\n      const dayMinTemplate = $(templateHeaderDayMin).text(weekOfdayName)\n        .css({ width: this.config.cellWidth });\n      $(templateHeaderDaysMin).append(dayMinTemplate);\n\n      const firstMonthIsNotFull = i === 0;\n\n      const firstDay = this.firstDayMonth(year, month);\n      const firstDayEndDateMonth = this.firstDayMonth(\n        this.config.endDate.getFullYear(),\n        this.config.endDate.getMonth() + 1);\n\n      startDate.setHours(0, 0, 0, 0);\n      const checkFirstDayMonth = this.isEqual(startDate, firstDay);\n      const checkFirstDayMonthEndDate = this.isEqual(startDate, firstDayEndDateMonth);\n\n      if (checkFirstDayMonth || firstMonthIsNotFull) {\n        if (firstMonthIsNotFull) {\n          monthWidth -= ((day - 1) * this.config.cellWidth);\n        }\n\n        if (checkFirstDayMonthEndDate) {\n          monthWidth = (this.config.endDate.getDate() * this.config.cellWidth);\n        }\n\n        const monthName = this.config.lang.monthNames[month - 1];\n        const monthTemplate = $(templateHeaderMonth).text(`${monthName} ${year}`).css({ width: monthWidth });\n        $(templateHeaderMonths).append(monthTemplate);\n      }\n      startDate.setDate(startDate.getDate() + 1);\n    }\n\n    templateHeader.append($(templateHeaderMonths).css('width', totalWidth));\n    templateHeader.append($(templateHeaderDays).css('width', totalWidth));\n    templateHeader.append($(templateHeaderDaysMin).css('width', totalWidth));\n    return templateHeader;\n  }\n\n  renderContainer() {\n    const template = $('<div>', { class: 'gantt-container' });\n    const templateWrapper = $('<div>', { class: 'gantt-wrapper' });\n\n    const arrowLeft = '<div class=\"arrow arrow-left\"><span class=\"arrow-icon\"></span></div>';\n    const arrowRight = '<div class=\"arrow arrow-right\"><span class=\"arrow-icon\"></span></div>';\n\n    // difference between start-date and end-date\n    const diffInDays = this.dateDiffInDays(this.config.startDate, this.config.endDate);\n    const templateHeader = this.renderHeader(diffInDays);\n    const templateGrid = this.renderGrid(diffInDays);\n    const templateEvents = this.renderEvents(diffInDays);\n\n    template.append(templateHeader).append(templateGrid).append(templateEvents);\n    templateWrapper.append(arrowLeft).append(template).append(arrowRight);\n    return templateWrapper;\n  }\n\n  renderGrid(num) {\n    const data = this.config.data;\n    const totalWidth = this.getTotalWidth(num);\n    const totalHeight = this.getTotalHeight(data.length);\n\n    const templateGrid = $('<div>', { class: 'gantt-grid', width: totalWidth });\n    const templateGridCols = $('<div>', { class: 'gantt-grid-cols' });\n    const templateGridRows = $('<div>', { class: 'gantt-grid-rows' });\n\n    const startDate = new Date(this.config.startDate.getTime());\n\n    for (let i = 0; i <= num; i += 1) {\n      const templateGridCol = $('<div>', { class: 'gantt-grid-col', width: this.config.cellWidth, height: totalHeight });\n\n      // firefox width problem fix\n      templateGridCol.css('width', this.config.cellWidth);\n\n      const month = startDate.getMonth() + 1;\n      const year = startDate.getFullYear();\n\n      const lastDay = this.lastDayMonth(year, month);\n\n      startDate.setHours(0, 0, 0, 0);\n      if (this.isEqual(startDate, lastDay)) {\n        templateGridCol.css('border-color', '#bec5cc');\n      }\n\n      templateGridCols.append(templateGridCol);\n      startDate.setDate(startDate.getDate() + 1);\n    }\n\n    data.forEach(function () {\n      const templateGridRow = $('<div>', { class: 'gantt-grid-row', width: totalWidth, height: this.config.cellHeight });\n      templateGridRows.append(templateGridRow);\n    }, this);\n\n    templateGrid.append(templateGridCols).append(templateGridRows);\n\n    return templateGrid;\n  }\n\n  renderEvents(num) {\n    const data = this.config.data;\n    const totalWidth = this.getTotalWidth(num);\n    // const totalHeight = this.getTotalHeight(data.length);\n\n    const templateEvents = $('<div>', { class: 'gantt-events', width: totalWidth });\n\n    data.forEach(function (el) {\n      const itemStartDate = new Date(el.startdate);\n\n      const templateEventRow = $('<div>', { class: 'gantt-event-row', width: this.totalWidth });\n      const templateEvent = $('<div>', { class: 'gantt-event' });\n\n      const tourWidth = (parseInt(el.minNight, 10) + 1) * this.config.cellWidth;\n      const remDay = this.dateDiffInDays(this.config.startDate, itemStartDate);\n\n      const tooltipData = $.extend(el.tooltipData, { price: el.price });\n\n      let tourType = '';\n      if (el.type === 'Tur') {\n        tourType = 'tourFly';\n      } else if (el.type === 'TurBus') {\n        tourType = 'tourBus';\n      } else {\n        tourType = 'cruise';\n      }\n\n      const title = `${el.minNight} Gece`;\n\n      const eventBlock = $('<a>', {\n        class: `gantt-event-block ${tourType}`,\n        width: `${tourWidth}px`,\n        href: `${el.url}`,\n        target: '_blank',\n      }).text(title).css('line-height', `${this.config.cellHeight - 28}px`).data('tooltip', this.tooltipView(tooltipData));\n\n      const eventIcon = $(`<div class=\"gantt-event-icon\"><div class=\"${tourType}\"></div></div>`);\n\n      const eventPrice = $('<div>', {\n        class: 'gantt-event-price',\n      }).text(`${el.price.original.price} ${el.price.original.priceType}`);\n\n      const eventDesc = $('<div>', {\n        class: 'gantt-event-desc',\n      }).text(el.title);\n\n      const left = ((remDay) * this.config.cellWidth);\n\n      templateEventRow\n        .append(templateEvent.css('left', left)\n          .append(eventBlock)\n          .append(eventIcon)\n          .append(eventPrice)\n          .append(eventDesc))\n        .css('height', this.config.cellHeight);\n\n      templateEvents.append(templateEventRow);\n    }, this);\n\n    return templateEvents;\n  }\n\n  getTotalWidth(day) {\n    return day === 0 ? 0 : (day + 1) * this.config.cellWidth;\n  }\n\n  getTotalHeight(len) {\n    return len * this.config.cellHeight;\n  }\n\n  setHours() {\n    this.config.startDate.setHours(0, 0, 0, 0);\n    this.config.endDate.setHours(0, 0, 0, 0);\n  }\n\n  firstDayMonth(year, month) {\n    return new Date(year, month - 1, 1);\n  }\n\n  lastDayMonth(year, month) {\n    return new Date(year, month, 0);\n  }\n\n  daysInMonth(month, year) {\n    return new Date(year, month, 0).getDate();\n  }\n\n  isEqual(a, b) {\n    return a.getTime() === b.getTime();\n  }\n\n  dateDiffInDays(a, b) {\n    const MS_PER_DAY = 1000 * 60 * 60 * 24;\n    const utc1 = Date.UTC(a.getFullYear(), a.getMonth(), a.getDate());\n    const utc2 = Date.UTC(b.getFullYear(), b.getMonth(), b.getDate());\n    return Math.floor((utc2 - utc1) / MS_PER_DAY);\n  }\n\n  getFormattedDate(date) {\n    const currDate = date.getDate();\n    const currMonth = date.getMonth() + 1;\n    const currYear = date.getFullYear();\n    return `${currYear}-${currMonth}-${currDate}`;\n  }\n\n  tooltipView(data) {\n    const template = '' +\n      '<div class=\"gantt-tooltip\">' +\n      '    <div class=\"tooltip-content\">' +\n      '        <img src=\"{0}\" alt=\"tooltip-img\">' +\n      '        <span class=\"title\">{1}</span>' +\n      '        <div class=\"desc\">' +\n      '            {2} <br> {3} <br> {4}' +\n      '        </div>' +\n      '    </div>' +\n      '    <div class=\"tooltip-action\">' +\n      '        <span>Gidiş: <span class=\"desc\">{5}</span></span><br>' +\n      '        <span>Dönüş: <span class=\"desc\">{6}</span></span>' +\n      '        <div class=\"price\">' +\n      '            <div class=\"tl\">{7}</div>' +\n      '            <div class=\"eur\">{8}</div>' +\n      '        </div>' +\n      '    </div>' +\n      '</div>';\n\n    const html = this.format(template, data.image, data.title, data.desc[0], data.desc[1], data.desc[2], data.dates.begin, data.dates.end, this.format('{0} {1}', data.price.converted.price, data.price.converted.priceType), this.format('{0} {1}', data.price.original.price, data.price.original.priceType));\n    return html;\n  }\n\n  tooltipHover() {\n    const el = $(this.element);\n    const options = this.config;\n\n    // tooltip mouse enter & leave\n    $('.gantt-event-block', el)\n      .on('mouseenter', function () {\n        const elheight = $(el).height();\n        // const elwidth = $(el).width();\n        const eltop = $(el).offset().top;\n\n        let data = $(this).data('tooltip');\n        const left = $(this).offset().left;\n        const top = $(this).offset().top;\n\n        if (top >= ((elheight + eltop) - 168)) {\n          // position top\n          data = $(data).css({ left });\n          $('body').append(data);\n          const dheight = $('.gantt-tooltip', 'body').outerHeight();\n          $('.gantt-tooltip', 'body').css('top', top - dheight - 12);\n        } else {\n          // position bottom\n          data = $(data).css({\n            top: top + options.cellHeight,\n            left,\n          });\n          $('body').append(data);\n        }\n\n        $('.gantt-tooltip', 'body').hide().fadeIn(250);\n      })\n      .on('mouseleave', () => {\n        $('.gantt-tooltip', 'body').remove();\n      });\n  }\n\n  colHighlighter() {\n    const el = $(this.element);\n    // highlighter\n    $('.gantt-grid-col, .gantt-header-day, .gantt-header-day-min', el).on('mouseenter', function () {\n      // const grIndex = $(this).closest('.gantt-grid-col').index();\n      const gcIndex = $(this).index();\n\n      $('.gantt-container', el).find('.gantt-grid-col')\n        .removeClass('active')\n        .eq(gcIndex)\n        .addClass('active');\n      $('.gantt-header', el).find('.gantt-header-days').find('.gantt-header-day')\n        .removeClass('active')\n        .eq(gcIndex)\n        .addClass('active');\n      $('.gantt-container', el).find('.gantt-header').find('.gantt-header-days-min').find('.gantt-header-day-min')\n        .removeClass('active')\n        .eq(gcIndex)\n        .addClass('active');\n    });\n    // event hover\n    $('.gantt-event-block', el).on('mousemove', () => {\n      $('.gantt-container', el).find('.gantt-grid-col').removeClass('active');\n      $('.gantt-header', el).find('.gantt-header-days').find('.gantt-header-day').removeClass('active');\n      $('.gantt-container', el).find('.gantt-header').find('.gantt-header-days-min').find('.gantt-header-day-min')\n        .removeClass('active');\n    });\n  }\n\n  format() {\n    // eslint-disable-next-line prefer-rest-params\n    let theString = arguments[0];\n    for (let i = 1; i < arguments.length; i += 1) {\n      const regEx = new RegExp(`\\\\{${i - 1}\\\\}`, 'gm');\n      // eslint-disable-next-line prefer-rest-params\n      theString = theString.replace(regEx, arguments[i]);\n    }\n    return theString;\n  }\n\n  destroy() {\n    $(window).off('scroll');\n    this.element.empty();\n    this.element.removeData('plugin_Gantt');\n    this.hook('onDestroy');\n  }\n\n  static setDefaults(options) {\n    $.extend(DEFAULTS, options);\n  }\n\n}\n\nGantt.LANGUAGES = {\n  en: {\n    monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n    dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    dayNamesMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  },\n};\n\n$.extend(Gantt.prototype, lazyload);\n\nexport default Gantt;\n","import $ from 'jquery';\nimport Gantt from './Gantt';\n\nconst other = $.fn.gantt;\n\n$.fn.gantt = function (options) {\n  return this.each(function () {\n    if (!$.data(this, 'plugin_Gantt')) {\n      $.data(this, 'plugin_Gantt',\n        new Gantt($(this), options),\n      );\n    }\n  });\n};\n\n$.fn.gantt.version = '1.0.0';\n$.fn.gantt.l10n = Gantt.LANGUAGES;\n$.fn.gantt.setDefaults = Gantt.setDefaults;\n\n// No conflict\n$.fn.gantt.noConflict = function () {\n  $.fn.gantt = other;\n  return this;\n};\n"],"names":["Date","$","noop","url","config","dataURL","ajax","startDate","endDate","setHours","scrollHandler","data","renderLazyLoadGrid","el","element","templateHeaderMonths","templateHeaderDays","templateHeaderDaysMin","num","dateDiffInDays","renderLazyLoadEvents","i","templateHeaderMonth","class","templateHeaderDay","templateHeaderDayMin","day","getDate","month","getMonth","year","getFullYear","monthWidth","daysInMonth","cellWidth","monthName","region","monthNames","dayTemplate","text","css","monthTemplate","width","append","firstMonthIsNotFull","firstDay","firstDayMonth","firstDayEndDateMonth","checkFirstDayMonth","isEqual","checkFirstDayMonthEndDate","setDate","totalWidth","length","templateGrid","templateGridRow","gridDefaults","gridtotalWidth","templateGridCol","height","gridtotalHeight","eventsWidth","getTotalWidth","totalHeight","getTotalHeight","templateGridCols","templateGridRows","sDate","getTime","lastDay","lastDayMonth","forEach","cellHeight","template","templateWrapper","templateHeader","arrowLeft","arrowRight","templateEvents","templateLoading","style","itemStartDate","startdate","templateEventRow","templateEvent","tourWidth","parseInt","minNight","remDay","tooltipData","extend","price","tourType","type","title","eventBlock","format","tooltipView","eventIcon","eventPrice","original","priceType","eventDesc","left","Gantt","options","lang","language","DEFAULTS","LANGUAGES","console","warn","lazyLoad","init","hook","html","initLazyLoad","renderLazyLoadContainer","buildData","then","Items","renderContainer","attachEvents","tooltipHover","colHighlighter","hookName","undefined","call","stickyHeader","stickyH","top","offset","scrollTop","scrollLeft","window","scroll","mouseScroll","on","e","originalEvent","wheelDelta","detail","mouseScrollpx","self","loading","scrollWidth","clientWidth","event","clientX","addClass","removeClass","autoHide","sl","daywidth","Math","floor","cWidth","events","find","each","index","elem","eventLeft","closest","hide","show","currentDay","direction","hasClass","getFormattedDate","fadeIn","callback","nextDate","setMonth","monthEndDate","yearEndDate","dayEndDate","setYear","xhrRequest","done","renderLazyLoad","always","fadeOut","weekOfday","getDay","weekOfdayName","dayNamesMin","dayMinTemplate","diffInDays","renderHeader","renderGrid","renderEvents","len","a","b","MS_PER_DAY","utc1","UTC","utc2","date","currDate","currMonth","currYear","image","desc","dates","begin","end","converted","elheight","eltop","dheight","outerHeight","remove","gcIndex","eq","theString","arguments","regEx","RegExp","replace","off","empty","removeData","prototype","lazyload","other","fn","gantt","version","l10n","setDefaults","noConflict"],"mappings":"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"}